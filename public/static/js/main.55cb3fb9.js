(()=>{var e={1441:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var o=n(9140),r=n(4278),a=n(4107),i=n(5861),s=n(9439),c=n(1100),l=n(5214),u=n(2129),d=n(9344),f=n(3248),h=n(1076),p=n(1644),g=n(3095),v=n(2245),m=n(8752),y=n(901);const b=function(e){var t=e.route.params.accessToken,n=(0,o.useState)([]),r=(0,s.default)(n,2),a=r[0],l=r[1],d=(0,o.useState)(!1),f=(0,s.default)(d,2),h=f[0],p=f[1];(0,o.useEffect)((function(){b()}),[]);var b=function(){var e=(0,i.default)((function*(){p(!0);try{var e=yield m.default.get("https://tasks.googleapis.com/tasks/v1/users/@me/lists",{headers:{Authorization:"Bearer "+t}});l(e.data.items),p(!1)}catch(n){console.log("Error fetching tasks:",n),p(!1)}}));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)(c.default,{style:{flex:1,padding:16},children:[(0,y.jsx)(g.default,{style:{fontSize:20,fontWeight:"bold",marginBottom:16},children:"Task List"}),h?(0,y.jsx)(g.default,{children:"Loading tasks..."}):(0,y.jsx)(v.default,{data:a,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return(0,y.jsx)(g.default,{children:t.title})}}),(0,y.jsx)(u.default,{title:"Logout",onPress:function(){return handleLogout()}})]})};var j=d.default.create({container:{flex:1,justifyContent:"center",alignItems:"center"},buttonContainer:{width:"80%",marginBottom:20}});const x=function(){var e=(0,f.useNavigation)(),t={clientId:"20683120727-c2077cnt279jihraf7gm0p76rhceealh.apps.googleusercontent.com",scopes:["https://www.googleapis.com/auth/tasks"]},n=(0,p.useAuthRequest)({clientId:t.clientId,scopes:t.scopes,redirectUri:(0,p.makeRedirectUri)({native:"https://8d7b-182-185-150-29.ngrok-free.app"})},{authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",tokenEndpoint:"https://oauth2.googleapis.com/token"}),r=(0,s.default)(n,3),a=r[0],d=r[1],g=r[2];(0,o.useEffect)((function(){if("success"===(null==d?void 0:d.type)){var e=d.params.code;v(e),console.log("ZAAINN",e)}}),[d]);var v=function(){var n=(0,i.default)((function*(n){try{var o=yield fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=authorization_code&code="+n+"&redirect_uri="+(0,p.makeRedirectUri)({native:"https://8d7b-182-185-150-29.ngrok-free.app"})+"&client_id="+t.clientId}),r=yield o.json();console.log("ZAIN",r);var a=r.access_token;h.dismissBrowser(),e.navigate("MainAppScreen",{accessToken:a})}catch(i){console.log("Token Exchange Error:",i)}}));return function(e){return n.apply(this,arguments)}}();return(0,y.jsxs)(c.default,{style:j.container,children:[(0,y.jsx)(l.default,{animating:!d}),!d&&(0,y.jsx)(c.default,{style:j.buttonContainer,children:(0,y.jsx)(u.default,{disabled:!a,title:"Login with Google",onPress:function(){g()}})})]})};var k=(0,a.default)();const w=function(){return(0,y.jsx)(r.default,{children:(0,y.jsxs)(k.Navigator,{children:[(0,y.jsx)(k.Screen,{name:"OAuthScreen",component:x,options:{headerShown:!1}}),(0,y.jsx)(k.Screen,{name:"MainAppScreen",component:b,options:{headerShown:!1}})]})})}},4654:()=>{}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,(()=>{var e=[];n.O=(t,o,r,a)=>{if(!o){var i=1/0;for(u=0;u<e.length;u++){for(var[o,r,a]=e[u],s=!0,c=0;c<o.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,r,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,a,[i,s,c]=o,l=0;if(i.some((t=>0!==e[t]))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(c)var u=c(n)}for(t&&t(o);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[317],(()=>n(386)));o=n.O(o)})();
//# sourceMappingURL=main.55cb3fb9.js.map